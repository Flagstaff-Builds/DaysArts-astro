---
import type { CollectionEntry } from 'astro:content';
import EventPost from './EventPost.astro';

type Props = {
  eventEntries: CollectionEntry<'event'>[];
};

const { eventEntries } = Astro.props;

// Pre-compute grid classes for better performance
const gridClasses = {
  container: "mx-auto grid grid-cols-1 gap-x-8 gap-y-2 xl:gap-y-20 xl:grid-cols-3",
  sidebar: "mx-auto flex flex-col lg:mx-0 lg:max-w-none w-full col-span-2 lg:col-span-1",
  eventList: "mx-auto grid max-w-2xl grid-cols-1 gap-x-6 gap-y-20 sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:gap-x-8 xl:col-span-2"
};
---

<!-- This is the event listings page -->
<div class={gridClasses.container}>
  <div class={gridClasses.sidebar}>
    <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">At the Palace Theatre in Daysland</h2>
    <p class="mt-6 text-lg leading-2 text-gray-600">Presentation of this series is made possible by the <span class="text-sm uppercase text-gray-400 font-semibold">Alberta Foundation for the Arts</span>, <span class="text-sm uppercase text-gray-400 font-semibold">Arts Touring Alliance of Alberta</span>, and local businesses.</p>

    <div class="mx-auto mt-10 grid grid-cols-2 items-start gap-x-8 gap-y-10 sm:gap-x-10 lg:mx-0 lg:grid-cols-3">
    </div>

    <p class="mt-4">Lichak Technical Services Ltd. <a href="tel:17807815965" itemprop="telephone" class="whitespace-nowrap font-semibold leading-7 text-purple-600 hover:underline">780-781-5965</a></p>

  </div>


  <ul role="list" class={gridClasses.eventList}>
    {eventEntries.map((eventEntry, index) => (
      <EventPost event={eventEntry} index={index} />
    ))}
  </ul>
</div>
